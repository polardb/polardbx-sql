DROP TABLE IF EXISTS tbl_hash;
CREATE TABLE IF NOT EXISTS tbl_hash (
	a int NOT NULL
)
PARTITION BY HASH (a) PARTITIONS 4;
CREATE TABLEGROUP tbl_hash_tg;
ALTER TABLE tbl_hash
	SET tablegroup = tbl_hash_tg;
SHOW CREATE TABLE tbl_hash;
Table,Create Table
tbl_hash,CREATE TABLE `tbl_hash` (
	`a` int(11) NOT NULL,
	KEY `auto_shard_key_a` USING BTREE (`a`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY KEY(`a`)
PARTITIONS 4
tablegroup = `tbl_hash_tg`
DROP TABLE IF EXISTS tbl_rng;
CREATE TABLE IF NOT EXISTS tbl_rng (
	a int NOT NULL,
	PRIMARY KEY (`a`)
)
PARTITION BY RANGE (a) (
	PARTITION p1 VALUES LESS THAN (100),
	PARTITION p2 VALUES LESS THAN (200),
	PARTITION p3 VALUES LESS THAN (300)
);
CREATE TABLEGROUP tbl_rng_tg;
ALTER TABLE tbl_rng
	SET tablegroup = tbl_rng_tg;
SHOW CREATE TABLE tbl_rng;
Table,Create Table
tbl_rng,CREATE TABLE `tbl_rng` (
	`a` int(11) NOT NULL,
	PRIMARY KEY (`a`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY RANGE(`a`)
(PARTITION p1 VALUES LESS THAN (100) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (200) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (300) ENGINE = InnoDB)
tablegroup = `tbl_rng_tg`
ALTER TABLEGROUP tbl_rng_tg ADD PARTITION (PARTITION p4 VALUES LESS THAN (400)) ;
SHOW CREATE TABLE tbl_rng;
Table,Create Table
tbl_rng,CREATE TABLE `tbl_rng` (
	`a` int(11) NOT NULL,
	PRIMARY KEY (`a`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY RANGE(`a`)
(PARTITION p1 VALUES LESS THAN (100) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (200) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (300) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (400) ENGINE = InnoDB)
tablegroup = `tbl_rng_tg`
ALTER TABLEGROUP tbl_rng_tg DROP PARTITION p2 ;
SHOW CREATE TABLE tbl_rng;
Table,Create Table
tbl_rng,CREATE TABLE `tbl_rng` (
	`a` int(11) NOT NULL,
	PRIMARY KEY (`a`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY RANGE(`a`)
(PARTITION p1 VALUES LESS THAN (100) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (300) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (400) ENGINE = InnoDB)
tablegroup = `tbl_rng_tg`
DROP TABLE IF EXISTS tbl_list;
CREATE TABLE IF NOT EXISTS tbl_list (
	a int NOT NULL,
	PRIMARY KEY (`a`)
)
PARTITION BY LIST (a) (
	PARTITION p1 VALUES IN (10, 11),
	PARTITION p2 VALUES IN (100, 101),
	PARTITION p3 VALUES IN (200, 201)
);
CREATE TABLEGROUP tbl_list_tg;
ALTER TABLE tbl_list
	SET tablegroup = tbl_list_tg;
SHOW CREATE TABLE tbl_list;
Table,Create Table
tbl_list,CREATE TABLE `tbl_list` (
	`a` int(11) NOT NULL,
	PRIMARY KEY (`a`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY LIST(`a`)
(PARTITION p1 VALUES IN (10,11) ENGINE = InnoDB,
 PARTITION p2 VALUES IN (100,101) ENGINE = InnoDB,
 PARTITION p3 VALUES IN (200,201) ENGINE = InnoDB)
tablegroup = `tbl_list_tg`
ALTER TABLEGROUP tbl_list_tg ADD PARTITION (PARTITION p4 VALUES IN (300, 301)) ;
SHOW CREATE TABLE tbl_list;
Table,Create Table
tbl_list,CREATE TABLE `tbl_list` (
	`a` int(11) NOT NULL,
	PRIMARY KEY (`a`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY LIST(`a`)
(PARTITION p1 VALUES IN (10,11) ENGINE = InnoDB,
 PARTITION p2 VALUES IN (100,101) ENGINE = InnoDB,
 PARTITION p3 VALUES IN (200,201) ENGINE = InnoDB,
 PARTITION p4 VALUES IN (300,301) ENGINE = InnoDB)
tablegroup = `tbl_list_tg`
ALTER TABLEGROUP tbl_list_tg DROP PARTITION p2 ;
SHOW CREATE TABLE tbl_list;
Table,Create Table
tbl_list,CREATE TABLE `tbl_list` (
	`a` int(11) NOT NULL,
	PRIMARY KEY (`a`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY LIST(`a`)
(PARTITION p1 VALUES IN (10,11) ENGINE = InnoDB,
 PARTITION p3 VALUES IN (200,201) ENGINE = InnoDB,
 PARTITION p4 VALUES IN (300,301) ENGINE = InnoDB)
tablegroup = `tbl_list_tg`