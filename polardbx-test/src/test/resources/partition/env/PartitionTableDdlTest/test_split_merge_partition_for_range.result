DROP TABLE IF EXISTS tbl;
CREATE TABLE IF NOT EXISTS tbl (
	a int NOT NULL,
	PRIMARY KEY (`a`)
)
PARTITION BY RANGE (a) (
	PARTITION p1 VALUES LESS THAN (100),
	PARTITION p2 VALUES LESS THAN (200),
	PARTITION p3 VALUES LESS THAN (300)
);
CREATE TABLEGROUP tbl_tg;
ALTER TABLE tbl
	SET tablegroup = tbl_tg;
ALTER TABLEGROUP tbl_tg SPLIT PARTITION p3 INTO (PARTITION p4 VALUES LESS THAN (250), PARTITION p5 VALUES LESS THAN (300)) ;
SHOW CREATE TABLE tbl;
Table,Create Table
tbl,CREATE TABLE `tbl` (
	`a` int(11) NOT NULL,
	PRIMARY KEY (`a`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY RANGE(`a`)
(PARTITION p1 VALUES LESS THAN (100) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (200) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (250) ENGINE = InnoDB,
 PARTITION p5 VALUES LESS THAN (300) ENGINE = InnoDB)
tablegroup = `tbl_tg`
INSERT INTO tbl
VALUES (220);
SELECT *
FROM tbl PARTITION (p4);
a
220
INSERT INTO tbl
VALUES (270);
SELECT *
FROM tbl PARTITION (p5);
a
270
DELETE FROM tbl
WHERE 1 = 1;
ALTER TABLEGROUP tbl_tg MERGE PARTITIONS p2, p4 TO p3 ;
SHOW CREATE TABLE tbl;
Table,Create Table
tbl,CREATE TABLE `tbl` (
	`a` int(11) NOT NULL,
	PRIMARY KEY (`a`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY RANGE(`a`)
(PARTITION p1 VALUES LESS THAN (100) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (250) ENGINE = InnoDB,
 PARTITION p5 VALUES LESS THAN (300) ENGINE = InnoDB)
tablegroup = `tbl_tg`
INSERT INTO tbl
VALUES (230);
SELECT *
FROM tbl PARTITION (p3);
a
230
