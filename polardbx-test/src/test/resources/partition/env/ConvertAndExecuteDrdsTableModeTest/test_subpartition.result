## DISABLE_FAST_SQL_PARSER
use polardbx;
set EXECUTE_AFTER_DRDS_AUTO_MODE_CONVERSION=true;
convert create table t2(a int) dbpartition by hash(a) tbpartition by hash(a) tbpartitions 3
SUCCESS,RESULT,ERROR_MSG
False,CREATE TABLE IF NOT EXISTS t2 (
	a int
)
PARTITION BY KEY (a) PARTITIONS 48,ERR-CODE: [TDDL-4500][ERR_PARSER] Do not support partition by.
drop database if exists `test_convert_subpartition`;
create database if not exists `test_convert_subpartition` mode=auto;
use test_convert_subpartition;
## test dd
convert create table `tb1` (
`col0` date,
`col1` date default NULL,
`col2` date,
`col3` date,
`col4` datetime,
`col5` datetime,
`col6` datetime,
`col7` datetime,
`col8` datetime,
primary key(`col0`),
unique clustered index `tb1_k1`(`col1`, `col3`) dbpartition by yyyymm(`col1`) tbpartition by dd(`col3`) tbpartitions 4,
clustered index `tb1_k2` (`col4`, `col3`) dbpartition by hash(`col4`) tbpartition by dd(`col3`) tbpartitions 4,
unique global index `tb1_k3` (`col6`, `col5`) dbpartition by hash(`col5`) tbpartition by dd(`col6`) tbpartitions 4,
unique global index `tb1_k4` (`col6`, `col7`) covering (`col8`) dbpartition by hash(`col6`) tbpartition by dd(`col7`) tbpartitions 4
) dbpartition by hash(`col1`) tbpartition by dd(`col2`) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb1` (
	`col0` date,
	`col1` date DEFAULT NULL,
	`col2` date,
	`col3` date,
	`col4` datetime,
	`col5` datetime,
	`col6` datetime,
	`col7` datetime,
	`col8` datetime,
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb1_k1` (`col1`, `col3`) PARTITION BY HASH (TO_MONTHS(`col1`)) PARTITIONS 16
	SUBPARTITION BY RANGE (DAYOFMONTH(`col3`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION sp8 VALUES LESS THAN (8),
		SUBPARTITION sp9 VALUES LESS THAN (9),
		SUBPARTITION sp10 VALUES LESS THAN (10),
		SUBPARTITION sp11 VALUES LESS THAN (11),
		SUBPARTITION sp12 VALUES LESS THAN (12),
		SUBPARTITION sp13 VALUES LESS THAN (13),
		SUBPARTITION sp14 VALUES LESS THAN (14),
		SUBPARTITION sp15 VALUES LESS THAN (15),
		SUBPARTITION sp16 VALUES LESS THAN (16),
		SUBPARTITION sp17 VALUES LESS THAN (17),
		SUBPARTITION sp18 VALUES LESS THAN (18),
		SUBPARTITION sp19 VALUES LESS THAN (19),
		SUBPARTITION sp20 VALUES LESS THAN (20),
		SUBPARTITION sp21 VALUES LESS THAN (21),
		SUBPARTITION sp22 VALUES LESS THAN (22),
		SUBPARTITION sp23 VALUES LESS THAN (23),
		SUBPARTITION sp24 VALUES LESS THAN (24),
		SUBPARTITION sp25 VALUES LESS THAN (25),
		SUBPARTITION sp26 VALUES LESS THAN (26),
		SUBPARTITION sp27 VALUES LESS THAN (27),
		SUBPARTITION sp28 VALUES LESS THAN (28),
		SUBPARTITION sp29 VALUES LESS THAN (29),
		SUBPARTITION sp30 VALUES LESS THAN (30),
		SUBPARTITION sp31 VALUES LESS THAN (31),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	),
	CLUSTERED INDEX `tb1_k2`(`col4`, `col3`) PARTITION BY KEY (`col4`) PARTITIONS 16
	SUBPARTITION BY RANGE (DAYOFMONTH(`col3`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION sp8 VALUES LESS THAN (8),
		SUBPARTITION sp9 VALUES LESS THAN (9),
		SUBPARTITION sp10 VALUES LESS THAN (10),
		SUBPARTITION sp11 VALUES LESS THAN (11),
		SUBPARTITION sp12 VALUES LESS THAN (12),
		SUBPARTITION sp13 VALUES LESS THAN (13),
		SUBPARTITION sp14 VALUES LESS THAN (14),
		SUBPARTITION sp15 VALUES LESS THAN (15),
		SUBPARTITION sp16 VALUES LESS THAN (16),
		SUBPARTITION sp17 VALUES LESS THAN (17),
		SUBPARTITION sp18 VALUES LESS THAN (18),
		SUBPARTITION sp19 VALUES LESS THAN (19),
		SUBPARTITION sp20 VALUES LESS THAN (20),
		SUBPARTITION sp21 VALUES LESS THAN (21),
		SUBPARTITION sp22 VALUES LESS THAN (22),
		SUBPARTITION sp23 VALUES LESS THAN (23),
		SUBPARTITION sp24 VALUES LESS THAN (24),
		SUBPARTITION sp25 VALUES LESS THAN (25),
		SUBPARTITION sp26 VALUES LESS THAN (26),
		SUBPARTITION sp27 VALUES LESS THAN (27),
		SUBPARTITION sp28 VALUES LESS THAN (28),
		SUBPARTITION sp29 VALUES LESS THAN (29),
		SUBPARTITION sp30 VALUES LESS THAN (30),
		SUBPARTITION sp31 VALUES LESS THAN (31),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	),
	UNIQUE GLOBAL INDEX `tb1_k3` (`col6`, `col5`) PARTITION BY KEY (`col5`) PARTITIONS 16
	SUBPARTITION BY RANGE (DAYOFMONTH(`col6`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION sp8 VALUES LESS THAN (8),
		SUBPARTITION sp9 VALUES LESS THAN (9),
		SUBPARTITION sp10 VALUES LESS THAN (10),
		SUBPARTITION sp11 VALUES LESS THAN (11),
		SUBPARTITION sp12 VALUES LESS THAN (12),
		SUBPARTITION sp13 VALUES LESS THAN (13),
		SUBPARTITION sp14 VALUES LESS THAN (14),
		SUBPARTITION sp15 VALUES LESS THAN (15),
		SUBPARTITION sp16 VALUES LESS THAN (16),
		SUBPARTITION sp17 VALUES LESS THAN (17),
		SUBPARTITION sp18 VALUES LESS THAN (18),
		SUBPARTITION sp19 VALUES LESS THAN (19),
		SUBPARTITION sp20 VALUES LESS THAN (20),
		SUBPARTITION sp21 VALUES LESS THAN (21),
		SUBPARTITION sp22 VALUES LESS THAN (22),
		SUBPARTITION sp23 VALUES LESS THAN (23),
		SUBPARTITION sp24 VALUES LESS THAN (24),
		SUBPARTITION sp25 VALUES LESS THAN (25),
		SUBPARTITION sp26 VALUES LESS THAN (26),
		SUBPARTITION sp27 VALUES LESS THAN (27),
		SUBPARTITION sp28 VALUES LESS THAN (28),
		SUBPARTITION sp29 VALUES LESS THAN (29),
		SUBPARTITION sp30 VALUES LESS THAN (30),
		SUBPARTITION sp31 VALUES LESS THAN (31),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	),
	UNIQUE GLOBAL INDEX `tb1_k4` (`col6`, `col7`) COVERING (`col8`) PARTITION BY KEY (`col6`) PARTITIONS 16
	SUBPARTITION BY RANGE (DAYOFMONTH(`col7`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION sp8 VALUES LESS THAN (8),
		SUBPARTITION sp9 VALUES LESS THAN (9),
		SUBPARTITION sp10 VALUES LESS THAN (10),
		SUBPARTITION sp11 VALUES LESS THAN (11),
		SUBPARTITION sp12 VALUES LESS THAN (12),
		SUBPARTITION sp13 VALUES LESS THAN (13),
		SUBPARTITION sp14 VALUES LESS THAN (14),
		SUBPARTITION sp15 VALUES LESS THAN (15),
		SUBPARTITION sp16 VALUES LESS THAN (16),
		SUBPARTITION sp17 VALUES LESS THAN (17),
		SUBPARTITION sp18 VALUES LESS THAN (18),
		SUBPARTITION sp19 VALUES LESS THAN (19),
		SUBPARTITION sp20 VALUES LESS THAN (20),
		SUBPARTITION sp21 VALUES LESS THAN (21),
		SUBPARTITION sp22 VALUES LESS THAN (22),
		SUBPARTITION sp23 VALUES LESS THAN (23),
		SUBPARTITION sp24 VALUES LESS THAN (24),
		SUBPARTITION sp25 VALUES LESS THAN (25),
		SUBPARTITION sp26 VALUES LESS THAN (26),
		SUBPARTITION sp27 VALUES LESS THAN (27),
		SUBPARTITION sp28 VALUES LESS THAN (28),
		SUBPARTITION sp29 VALUES LESS THAN (29),
		SUBPARTITION sp30 VALUES LESS THAN (30),
		SUBPARTITION sp31 VALUES LESS THAN (31),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	)
)
PARTITION BY KEY (`col1`, `col0`) PARTITIONS 16
SUBPARTITION BY RANGE (DAYOFMONTH(`col2`)) (
	SUBPARTITION sp2 VALUES LESS THAN (2),
	SUBPARTITION sp3 VALUES LESS THAN (3),
	SUBPARTITION sp4 VALUES LESS THAN (4),
	SUBPARTITION sp5 VALUES LESS THAN (5),
	SUBPARTITION sp6 VALUES LESS THAN (6),
	SUBPARTITION sp7 VALUES LESS THAN (7),
	SUBPARTITION sp8 VALUES LESS THAN (8),
	SUBPARTITION sp9 VALUES LESS THAN (9),
	SUBPARTITION sp10 VALUES LESS THAN (10),
	SUBPARTITION sp11 VALUES LESS THAN (11),
	SUBPARTITION sp12 VALUES LESS THAN (12),
	SUBPARTITION sp13 VALUES LESS THAN (13),
	SUBPARTITION sp14 VALUES LESS THAN (14),
	SUBPARTITION sp15 VALUES LESS THAN (15),
	SUBPARTITION sp16 VALUES LESS THAN (16),
	SUBPARTITION sp17 VALUES LESS THAN (17),
	SUBPARTITION sp18 VALUES LESS THAN (18),
	SUBPARTITION sp19 VALUES LESS THAN (19),
	SUBPARTITION sp20 VALUES LESS THAN (20),
	SUBPARTITION sp21 VALUES LESS THAN (21),
	SUBPARTITION sp22 VALUES LESS THAN (22),
	SUBPARTITION sp23 VALUES LESS THAN (23),
	SUBPARTITION sp24 VALUES LESS THAN (24),
	SUBPARTITION sp25 VALUES LESS THAN (25),
	SUBPARTITION sp26 VALUES LESS THAN (26),
	SUBPARTITION sp27 VALUES LESS THAN (27),
	SUBPARTITION sp28 VALUES LESS THAN (28),
	SUBPARTITION sp29 VALUES LESS THAN (29),
	SUBPARTITION sp30 VALUES LESS THAN (30),
	SUBPARTITION sp31 VALUES LESS THAN (31),
	SUBPARTITION spd VALUES LESS THAN MAXVALUE
),null
## test hash
convert create table `tb2` (
`col0` int(11) not null auto_increment,
`col1` int(11) default NULL,
`col2` varchar(20),
`col3` varchar(20),
`col4` varchar(20),
`col5` varchar(20),
`col6` varchar(20),
`col7` varchar(20),
`col8` varchar(20),
`col9` varchar(20),
primary key(`col0`),
unique clustered index `tb2_k1`(`col1`, `col2`) dbpartition by hash(`col1`)  tbpartition by hash(`col2`) tbpartitions 4,
clustered index `tb2_k2` (`col2`, `col3`) dbpartition by hash(`col2`) tbpartition by hash(`col3`) tbpartitions 4,
unique global index `tb2_k3` (`col5`, `col6`) dbpartition by hash(`col5`) tbpartition by hash(`col6`) tbpartitions 2,
global index `tb2_k4` (`col8`, `col9`) dbpartition by hash(`col8`) tbpartition by hash(`col9`) tbpartitions 3
) dbpartition by hash(`col1`) tbpartition by hash(`col2`) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb2` (
	`col0` int(11) NOT NULL AUTO_INCREMENT,
	`col1` int(11) DEFAULT NULL,
	`col2` varchar(20),
	`col3` varchar(20),
	`col4` varchar(20),
	`col5` varchar(20),
	`col6` varchar(20),
	`col7` varchar(20),
	`col8` varchar(20),
	`col9` varchar(20),
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb2_k1` (`col1`, `col2`) PARTITION BY KEY (`col1`) PARTITIONS 16
	SUBPARTITION BY KEY (`col2`) SUBPARTITIONS 4,
	CLUSTERED INDEX `tb2_k2`(`col2`, `col3`) PARTITION BY KEY (`col2`) PARTITIONS 16
	SUBPARTITION BY KEY (`col3`) SUBPARTITIONS 4,
	UNIQUE GLOBAL INDEX `tb2_k3` (`col5`, `col6`) PARTITION BY KEY (`col5`) PARTITIONS 16
	SUBPARTITION BY KEY (`col6`) SUBPARTITIONS 2,
	GLOBAL INDEX `tb2_k4`(`col8`, `col9`) PARTITION BY KEY (`col8`) PARTITIONS 16
	SUBPARTITION BY KEY (`col9`) SUBPARTITIONS 3
)
PARTITION BY KEY (`col1`, `col0`) PARTITIONS 16
SUBPARTITION BY KEY (`col2`) SUBPARTITIONS 4,null
## test mm
convert create table `tb3` (
`col0` date,
`col1` date default NULL,
`col2` date,
`col3` date,
`col4` datetime,
`col5` datetime,
`col6` datetime，
`col7` datetime,
`col8` datetime,
primary key(`col0`),
unique clustered index `tb3_k1`(`col1`, `col3`) dbpartition by yyyydd(`col1`) tbpartition by mm(`col3`) tbpartitions 4,
clustered index `tb3_k2` (`col4`, `col3`) dbpartition by hash(`col4`) tbpartition by mm(`col3`) tbpartitions 4,
unique global index `tb3_k3` (`col6`, `col5`) dbpartition by yyyydd(`col5`) tbpartition by mm(`col6`) tbpartitions 4,
global index  `tb3_k4` (`col6`, `col7`) covering (`col8`) dbpartition by yyyydd(`col6`) tbpartition by mm(`col7`) tbpartitions 4
) dbpartition by yyyymm(`col1`) tbpartition by mm(`col2`) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb3` (
	`col0` date,
	`col1` date DEFAULT NULL,
	`col2` date,
	`col3` date,
	`col4` datetime,
	`col5` datetime,
	`col6` datetime,
	`col7` datetime,
	`col8` datetime,
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb3_k1` (`col1`, `col3`) PARTITION BY HASH (TO_DAYS(`col1`)) PARTITIONS 16
	SUBPARTITION BY RANGE (MONTH(`col3`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION sp8 VALUES LESS THAN (8),
		SUBPARTITION sp9 VALUES LESS THAN (9),
		SUBPARTITION sp10 VALUES LESS THAN (10),
		SUBPARTITION sp11 VALUES LESS THAN (11),
		SUBPARTITION sp12 VALUES LESS THAN (12),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	),
	CLUSTERED INDEX `tb3_k2`(`col4`, `col3`) PARTITION BY KEY (`col4`) PARTITIONS 16
	SUBPARTITION BY RANGE (MONTH(`col3`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION sp8 VALUES LESS THAN (8),
		SUBPARTITION sp9 VALUES LESS THAN (9),
		SUBPARTITION sp10 VALUES LESS THAN (10),
		SUBPARTITION sp11 VALUES LESS THAN (11),
		SUBPARTITION sp12 VALUES LESS THAN (12),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	),
	UNIQUE GLOBAL INDEX `tb3_k3` (`col6`, `col5`) PARTITION BY HASH (TO_DAYS(`col5`)) PARTITIONS 16
	SUBPARTITION BY RANGE (MONTH(`col6`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION sp8 VALUES LESS THAN (8),
		SUBPARTITION sp9 VALUES LESS THAN (9),
		SUBPARTITION sp10 VALUES LESS THAN (10),
		SUBPARTITION sp11 VALUES LESS THAN (11),
		SUBPARTITION sp12 VALUES LESS THAN (12),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	),
	GLOBAL INDEX `tb3_k4`(`col6`, `col7`) COVERING (`col8`) PARTITION BY HASH (TO_DAYS(`col6`)) PARTITIONS 16
	SUBPARTITION BY RANGE (MONTH(`col7`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION sp8 VALUES LESS THAN (8),
		SUBPARTITION sp9 VALUES LESS THAN (9),
		SUBPARTITION sp10 VALUES LESS THAN (10),
		SUBPARTITION sp11 VALUES LESS THAN (11),
		SUBPARTITION sp12 VALUES LESS THAN (12),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	)
)
PARTITION BY HASH (TO_MONTHS(`col1`)) PARTITIONS 16
SUBPARTITION BY RANGE (MONTH(`col2`)) (
	SUBPARTITION sp2 VALUES LESS THAN (2),
	SUBPARTITION sp3 VALUES LESS THAN (3),
	SUBPARTITION sp4 VALUES LESS THAN (4),
	SUBPARTITION sp5 VALUES LESS THAN (5),
	SUBPARTITION sp6 VALUES LESS THAN (6),
	SUBPARTITION sp7 VALUES LESS THAN (7),
	SUBPARTITION sp8 VALUES LESS THAN (8),
	SUBPARTITION sp9 VALUES LESS THAN (9),
	SUBPARTITION sp10 VALUES LESS THAN (10),
	SUBPARTITION sp11 VALUES LESS THAN (11),
	SUBPARTITION sp12 VALUES LESS THAN (12),
	SUBPARTITION spd VALUES LESS THAN MAXVALUE
),null
## test mmdd
convert create table `tb4` (
`col0` date,
`col1` date default NULL,
`col2` date,
`col3` date,
primary key(`col0`)
) dbpartition by yyyymm(`col1`) tbpartition by mmdd(`col2`) tbpartitions 2;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb4` (
	`col0` date,
	`col1` date DEFAULT NULL,
	`col2` date,
	`col3` date,
	PRIMARY KEY (`col0`)
)
PARTITION BY HASH (TO_MONTHS(`col1`)) PARTITIONS 16
SUBPARTITION BY RANGE (DAYOFYEAR(`col2`)) (
	SUBPARTITION sp2 VALUES LESS THAN (2),
	SUBPARTITION sp3 VALUES LESS THAN (3),
	SUBPARTITION sp4 VALUES LESS THAN (4),
	SUBPARTITION sp5 VALUES LESS THAN (5),
	SUBPARTITION sp6 VALUES LESS THAN (6),
	SUBPARTITION sp7 VALUES LESS THAN (7),
	SUBPARTITION sp8 VALUES LESS THAN (8),
	SUBPARTITION sp9 VALUES LESS THAN (9),
	SUBPARTITION sp10 VALUES LESS THAN (10),
	SUBPARTITION sp11 VALUES LESS THAN (11),
	SUBPARTITION sp12 VALUES LESS THAN (12),
	SUBPARTITION sp13 VALUES LESS THAN (13),
	SUBPARTITION sp14 VALUES LESS THAN (14),
	SUBPARTITION sp15 VALUES LESS THAN (15),
	SUBPARTITION sp16 VALUES LESS THAN (16),
	SUBPARTITION sp17 VALUES LESS THAN (17),
	SUBPARTITION sp18 VALUES LESS THAN (18),
	SUBPARTITION sp19 VALUES LESS THAN (19),
	SUBPARTITION sp20 VALUES LESS THAN (20),
	SUBPARTITION sp21 VALUES LESS THAN (21),
	SUBPARTITION sp22 VALUES LESS THAN (22),
	SUBPARTITION sp23 VALUES LESS THAN (23),
	SUBPARTITION sp24 VALUES LESS THAN (24),
	SUBPARTITION sp25 VALUES LESS THAN (25),
	SUBPARTITION sp26 VALUES LESS THAN (26),
	SUBPARTITION sp27 VALUES LESS THAN (27),
	SUBPARTITION sp28 VALUES LESS THAN (28),
	SUBPARTITION sp29 VALUES LESS THAN (29),
	SUBPARTITION sp30 VALUES LESS THAN (30),
	SUBPARTITION sp31 VALUES LESS THAN (31),
	SUBPARTITION sp32 VALUES LESS THAN (32),
	SUBPARTITION sp33 VALUES LESS THAN (33),
	SUBPARTITION sp34 VALUES LESS THAN (34),
	SUBPARTITION sp35 VALUES LESS THAN (35),
	SUBPARTITION sp36 VALUES LESS THAN (36),
	SUBPARTITION sp37 VALUES LESS THAN (37),
	SUBPARTITION sp38 VALUES LESS THAN (38),
	SUBPARTITION sp39 VALUES LESS THAN (39),
	SUBPARTITION sp40 VALUES LESS THAN (40),
	SUBPARTITION sp41 VALUES LESS THAN (41),
	SUBPARTITION sp42 VALUES LESS THAN (42),
	SUBPARTITION sp43 VALUES LESS THAN (43),
	SUBPARTITION sp44 VALUES LESS THAN (44),
	SUBPARTITION sp45 VALUES LESS THAN (45),
	SUBPARTITION sp46 VALUES LESS THAN (46),
	SUBPARTITION sp47 VALUES LESS THAN (47),
	SUBPARTITION sp48 VALUES LESS THAN (48),
	SUBPARTITION sp49 VALUES LESS THAN (49),
	SUBPARTITION sp50 VALUES LESS THAN (50),
	SUBPARTITION sp51 VALUES LESS THAN (51),
	SUBPARTITION sp52 VALUES LESS THAN (52),
	SUBPARTITION sp53 VALUES LESS THAN (53),
	SUBPARTITION sp54 VALUES LESS THAN (54),
	SUBPARTITION sp55 VALUES LESS THAN (55),
	SUBPARTITION sp56 VALUES LESS THAN (56),
	SUBPARTITION sp57 VALUES LESS THAN (57),
	SUBPARTITION sp58 VALUES LESS THAN (58),
	SUBPARTITION sp59 VALUES LESS THAN (59),
	SUBPARTITION sp60 VALUES LESS THAN (60),
	SUBPARTITION sp61 VALUES LESS THAN (61),
	SUBPARTITION sp62 VALUES LESS THAN (62),
	SUBPARTITION sp63 VALUES LESS THAN (63),
	SUBPARTITION sp64 VALUES LESS THAN (64),
	SUBPARTITION sp65 VALUES LESS THAN (65),
	SUBPARTITION sp66 VALUES LESS THAN (66),
	SUBPARTITION sp67 VALUES LESS THAN (67),
	SUBPARTITION sp68 VALUES LESS THAN (68),
	SUBPARTITION sp69 VALUES LESS THAN (69),
	SUBPARTITION sp70 VALUES LESS THAN (70),
	SUBPARTITION sp71 VALUES LESS THAN (71),
	SUBPARTITION sp72 VALUES LESS THAN (72),
	SUBPARTITION sp73 VALUES LESS THAN (73),
	SUBPARTITION sp74 VALUES LESS THAN (74),
	SUBPARTITION sp75 VALUES LESS THAN (75),
	SUBPARTITION sp76 VALUES LESS THAN (76),
	SUBPARTITION sp77 VALUES LESS THAN (77),
	SUBPARTITION sp78 VALUES LESS THAN (78),
	SUBPARTITION sp79 VALUES LESS THAN (79),
	SUBPARTITION sp80 VALUES LESS THAN (80),
	SUBPARTITION sp81 VALUES LESS THAN (81),
	SUBPARTITION sp82 VALUES LESS THAN (82),
	SUBPARTITION sp83 VALUES LESS THAN (83),
	SUBPARTITION sp84 VALUES LESS THAN (84),
	SUBPARTITION sp85 VALUES LESS THAN (85),
	SUBPARTITION sp86 VALUES LESS THAN (86),
	SUBPARTITION sp87 VALUES LESS THAN (87),
	SUBPARTITION sp88 VALUES LESS THAN (88),
	SUBPARTITION sp89 VALUES LESS THAN (89),
	SUBPARTITION sp90 VALUES LESS THAN (90),
	SUBPARTITION sp91 VALUES LESS THAN (91),
	SUBPARTITION sp92 VALUES LESS THAN (92),
	SUBPARTITION sp93 VALUES LESS THAN (93),
	SUBPARTITION sp94 VALUES LESS THAN (94),
	SUBPARTITION sp95 VALUES LESS THAN (95),
	SUBPARTITION sp96 VALUES LESS THAN (96),
	SUBPARTITION sp97 VALUES LESS THAN (97),
	SUBPARTITION sp98 VALUES LESS THAN (98),
	SUBPARTITION sp99 VALUES LESS THAN (99),
	SUBPARTITION sp100 VALUES LESS THAN (100),
	SUBPARTITION sp101 VALUES LESS THAN (101),
	SUBPARTITION sp102 VALUES LESS THAN (102),
	SUBPARTITION sp103 VALUES LESS THAN (103),
	SUBPARTITION sp104 VALUES LESS THAN (104),
	SUBPARTITION sp105 VALUES LESS THAN (105),
	SUBPARTITION sp106 VALUES LESS THAN (106),
	SUBPARTITION sp107 VALUES LESS THAN (107),
	SUBPARTITION sp108 VALUES LESS THAN (108),
	SUBPARTITION sp109 VALUES LESS THAN (109),
	SUBPARTITION sp110 VALUES LESS THAN (110),
	SUBPARTITION sp111 VALUES LESS THAN (111),
	SUBPARTITION sp112 VALUES LESS THAN (112),
	SUBPARTITION sp113 VALUES LESS THAN (113),
	SUBPARTITION sp114 VALUES LESS THAN (114),
	SUBPARTITION sp115 VALUES LESS THAN (115),
	SUBPARTITION sp116 VALUES LESS THAN (116),
	SUBPARTITION sp117 VALUES LESS THAN (117),
	SUBPARTITION sp118 VALUES LESS THAN (118),
	SUBPARTITION sp119 VALUES LESS THAN (119),
	SUBPARTITION sp120 VALUES LESS THAN (120),
	SUBPARTITION sp121 VALUES LESS THAN (121),
	SUBPARTITION sp122 VALUES LESS THAN (122),
	SUBPARTITION sp123 VALUES LESS THAN (123),
	SUBPARTITION sp124 VALUES LESS THAN (124),
	SUBPARTITION sp125 VALUES LESS THAN (125),
	SUBPARTITION sp126 VALUES LESS THAN (126),
	SUBPARTITION sp127 VALUES LESS THAN (127),
	SUBPARTITION sp128 VALUES LESS THAN (128),
	SUBPARTITION sp129 VALUES LESS THAN (129),
	SUBPARTITION sp130 VALUES LESS THAN (130),
	SUBPARTITION sp131 VALUES LESS THAN (131),
	SUBPARTITION sp132 VALUES LESS THAN (132),
	SUBPARTITION sp133 VALUES LESS THAN (133),
	SUBPARTITION sp134 VALUES LESS THAN (134),
	SUBPARTITION sp135 VALUES LESS THAN (135),
	SUBPARTITION sp136 VALUES LESS THAN (136),
	SUBPARTITION sp137 VALUES LESS THAN (137),
	SUBPARTITION sp138 VALUES LESS THAN (138),
	SUBPARTITION sp139 VALUES LESS THAN (139),
	SUBPARTITION sp140 VALUES LESS THAN (140),
	SUBPARTITION sp141 VALUES LESS THAN (141),
	SUBPARTITION sp142 VALUES LESS THAN (142),
	SUBPARTITION sp143 VALUES LESS THAN (143),
	SUBPARTITION sp144 VALUES LESS THAN (144),
	SUBPARTITION sp145 VALUES LESS THAN (145),
	SUBPARTITION sp146 VALUES LESS THAN (146),
	SUBPARTITION sp147 VALUES LESS THAN (147),
	SUBPARTITION sp148 VALUES LESS THAN (148),
	SUBPARTITION sp149 VALUES LESS THAN (149),
	SUBPARTITION sp150 VALUES LESS THAN (150),
	SUBPARTITION sp151 VALUES LESS THAN (151),
	SUBPARTITION sp152 VALUES LESS THAN (152),
	SUBPARTITION sp153 VALUES LESS THAN (153),
	SUBPARTITION sp154 VALUES LESS THAN (154),
	SUBPARTITION sp155 VALUES LESS THAN (155),
	SUBPARTITION sp156 VALUES LESS THAN (156),
	SUBPARTITION sp157 VALUES LESS THAN (157),
	SUBPARTITION sp158 VALUES LESS THAN (158),
	SUBPARTITION sp159 VALUES LESS THAN (159),
	SUBPARTITION sp160 VALUES LESS THAN (160),
	SUBPARTITION sp161 VALUES LESS THAN (161),
	SUBPARTITION sp162 VALUES LESS THAN (162),
	SUBPARTITION sp163 VALUES LESS THAN (163),
	SUBPARTITION sp164 VALUES LESS THAN (164),
	SUBPARTITION sp165 VALUES LESS THAN (165),
	SUBPARTITION sp166 VALUES LESS THAN (166),
	SUBPARTITION sp167 VALUES LESS THAN (167),
	SUBPARTITION sp168 VALUES LESS THAN (168),
	SUBPARTITION sp169 VALUES LESS THAN (169),
	SUBPARTITION sp170 VALUES LESS THAN (170),
	SUBPARTITION sp171 VALUES LESS THAN (171),
	SUBPARTITION sp172 VALUES LESS THAN (172),
	SUBPARTITION sp173 VALUES LESS THAN (173),
	SUBPARTITION sp174 VALUES LESS THAN (174),
	SUBPARTITION sp175 VALUES LESS THAN (175),
	SUBPARTITION sp176 VALUES LESS THAN (176),
	SUBPARTITION sp177 VALUES LESS THAN (177),
	SUBPARTITION sp178 VALUES LESS THAN (178),
	SUBPARTITION sp179 VALUES LESS THAN (179),
	SUBPARTITION sp180 VALUES LESS THAN (180),
	SUBPARTITION sp181 VALUES LESS THAN (181),
	SUBPARTITION sp182 VALUES LESS THAN (182),
	SUBPARTITION sp183 VALUES LESS THAN (183),
	SUBPARTITION sp184 VALUES LESS THAN (184),
	SUBPARTITION sp185 VALUES LESS THAN (185),
	SUBPARTITION sp186 VALUES LESS THAN (186),
	SUBPARTITION sp187 VALUES LESS THAN (187),
	SUBPARTITION sp188 VALUES LESS THAN (188),
	SUBPARTITION sp189 VALUES LESS THAN (189),
	SUBPARTITION sp190 VALUES LESS THAN (190),
	SUBPARTITION sp191 VALUES LESS THAN (191),
	SUBPARTITION sp192 VALUES LESS THAN (192),
	SUBPARTITION sp193 VALUES LESS THAN (193),
	SUBPARTITION sp194 VALUES LESS THAN (194),
	SUBPARTITION sp195 VALUES LESS THAN (195),
	SUBPARTITION sp196 VALUES LESS THAN (196),
	SUBPARTITION sp197 VALUES LESS THAN (197),
	SUBPARTITION sp198 VALUES LESS THAN (198),
	SUBPARTITION sp199 VALUES LESS THAN (199),
	SUBPARTITION sp200 VALUES LESS THAN (200),
	SUBPARTITION sp201 VALUES LESS THAN (201),
	SUBPARTITION sp202 VALUES LESS THAN (202),
	SUBPARTITION sp203 VALUES LESS THAN (203),
	SUBPARTITION sp204 VALUES LESS THAN (204),
	SUBPARTITION sp205 VALUES LESS THAN (205),
	SUBPARTITION sp206 VALUES LESS THAN (206),
	SUBPARTITION sp207 VALUES LESS THAN (207),
	SUBPARTITION sp208 VALUES LESS THAN (208),
	SUBPARTITION sp209 VALUES LESS THAN (209),
	SUBPARTITION sp210 VALUES LESS THAN (210),
	SUBPARTITION sp211 VALUES LESS THAN (211),
	SUBPARTITION sp212 VALUES LESS THAN (212),
	SUBPARTITION sp213 VALUES LESS THAN (213),
	SUBPARTITION sp214 VALUES LESS THAN (214),
	SUBPARTITION sp215 VALUES LESS THAN (215),
	SUBPARTITION sp216 VALUES LESS THAN (216),
	SUBPARTITION sp217 VALUES LESS THAN (217),
	SUBPARTITION sp218 VALUES LESS THAN (218),
	SUBPARTITION sp219 VALUES LESS THAN (219),
	SUBPARTITION sp220 VALUES LESS THAN (220),
	SUBPARTITION sp221 VALUES LESS THAN (221),
	SUBPARTITION sp222 VALUES LESS THAN (222),
	SUBPARTITION sp223 VALUES LESS THAN (223),
	SUBPARTITION sp224 VALUES LESS THAN (224),
	SUBPARTITION sp225 VALUES LESS THAN (225),
	SUBPARTITION sp226 VALUES LESS THAN (226),
	SUBPARTITION sp227 VALUES LESS THAN (227),
	SUBPARTITION sp228 VALUES LESS THAN (228),
	SUBPARTITION sp229 VALUES LESS THAN (229),
	SUBPARTITION sp230 VALUES LESS THAN (230),
	SUBPARTITION sp231 VALUES LESS THAN (231),
	SUBPARTITION sp232 VALUES LESS THAN (232),
	SUBPARTITION sp233 VALUES LESS THAN (233),
	SUBPARTITION sp234 VALUES LESS THAN (234),
	SUBPARTITION sp235 VALUES LESS THAN (235),
	SUBPARTITION sp236 VALUES LESS THAN (236),
	SUBPARTITION sp237 VALUES LESS THAN (237),
	SUBPARTITION sp238 VALUES LESS THAN (238),
	SUBPARTITION sp239 VALUES LESS THAN (239),
	SUBPARTITION sp240 VALUES LESS THAN (240),
	SUBPARTITION sp241 VALUES LESS THAN (241),
	SUBPARTITION sp242 VALUES LESS THAN (242),
	SUBPARTITION sp243 VALUES LESS THAN (243),
	SUBPARTITION sp244 VALUES LESS THAN (244),
	SUBPARTITION sp245 VALUES LESS THAN (245),
	SUBPARTITION sp246 VALUES LESS THAN (246),
	SUBPARTITION sp247 VALUES LESS THAN (247),
	SUBPARTITION sp248 VALUES LESS THAN (248),
	SUBPARTITION sp249 VALUES LESS THAN (249),
	SUBPARTITION sp250 VALUES LESS THAN (250),
	SUBPARTITION sp251 VALUES LESS THAN (251),
	SUBPARTITION sp252 VALUES LESS THAN (252),
	SUBPARTITION sp253 VALUES LESS THAN (253),
	SUBPARTITION sp254 VALUES LESS THAN (254),
	SUBPARTITION sp255 VALUES LESS THAN (255),
	SUBPARTITION sp256 VALUES LESS THAN (256),
	SUBPARTITION sp257 VALUES LESS THAN (257),
	SUBPARTITION sp258 VALUES LESS THAN (258),
	SUBPARTITION sp259 VALUES LESS THAN (259),
	SUBPARTITION sp260 VALUES LESS THAN (260),
	SUBPARTITION sp261 VALUES LESS THAN (261),
	SUBPARTITION sp262 VALUES LESS THAN (262),
	SUBPARTITION sp263 VALUES LESS THAN (263),
	SUBPARTITION sp264 VALUES LESS THAN (264),
	SUBPARTITION sp265 VALUES LESS THAN (265),
	SUBPARTITION sp266 VALUES LESS THAN (266),
	SUBPARTITION sp267 VALUES LESS THAN (267),
	SUBPARTITION sp268 VALUES LESS THAN (268),
	SUBPARTITION sp269 VALUES LESS THAN (269),
	SUBPARTITION sp270 VALUES LESS THAN (270),
	SUBPARTITION sp271 VALUES LESS THAN (271),
	SUBPARTITION sp272 VALUES LESS THAN (272),
	SUBPARTITION sp273 VALUES LESS THAN (273),
	SUBPARTITION sp274 VALUES LESS THAN (274),
	SUBPARTITION sp275 VALUES LESS THAN (275),
	SUBPARTITION sp276 VALUES LESS THAN (276),
	SUBPARTITION sp277 VALUES LESS THAN (277),
	SUBPARTITION sp278 VALUES LESS THAN (278),
	SUBPARTITION sp279 VALUES LESS THAN (279),
	SUBPARTITION sp280 VALUES LESS THAN (280),
	SUBPARTITION sp281 VALUES LESS THAN (281),
	SUBPARTITION sp282 VALUES LESS THAN (282),
	SUBPARTITION sp283 VALUES LESS THAN (283),
	SUBPARTITION sp284 VALUES LESS THAN (284),
	SUBPARTITION sp285 VALUES LESS THAN (285),
	SUBPARTITION sp286 VALUES LESS THAN (286),
	SUBPARTITION sp287 VALUES LESS THAN (287),
	SUBPARTITION sp288 VALUES LESS THAN (288),
	SUBPARTITION sp289 VALUES LESS THAN (289),
	SUBPARTITION sp290 VALUES LESS THAN (290),
	SUBPARTITION sp291 VALUES LESS THAN (291),
	SUBPARTITION sp292 VALUES LESS THAN (292),
	SUBPARTITION sp293 VALUES LESS THAN (293),
	SUBPARTITION sp294 VALUES LESS THAN (294),
	SUBPARTITION sp295 VALUES LESS THAN (295),
	SUBPARTITION sp296 VALUES LESS THAN (296),
	SUBPARTITION sp297 VALUES LESS THAN (297),
	SUBPARTITION sp298 VALUES LESS THAN (298),
	SUBPARTITION sp299 VALUES LESS THAN (299),
	SUBPARTITION sp300 VALUES LESS THAN (300),
	SUBPARTITION sp301 VALUES LESS THAN (301),
	SUBPARTITION sp302 VALUES LESS THAN (302),
	SUBPARTITION sp303 VALUES LESS THAN (303),
	SUBPARTITION sp304 VALUES LESS THAN (304),
	SUBPARTITION sp305 VALUES LESS THAN (305),
	SUBPARTITION sp306 VALUES LESS THAN (306),
	SUBPARTITION sp307 VALUES LESS THAN (307),
	SUBPARTITION sp308 VALUES LESS THAN (308),
	SUBPARTITION sp309 VALUES LESS THAN (309),
	SUBPARTITION sp310 VALUES LESS THAN (310),
	SUBPARTITION sp311 VALUES LESS THAN (311),
	SUBPARTITION sp312 VALUES LESS THAN (312),
	SUBPARTITION sp313 VALUES LESS THAN (313),
	SUBPARTITION sp314 VALUES LESS THAN (314),
	SUBPARTITION sp315 VALUES LESS THAN (315),
	SUBPARTITION sp316 VALUES LESS THAN (316),
	SUBPARTITION sp317 VALUES LESS THAN (317),
	SUBPARTITION sp318 VALUES LESS THAN (318),
	SUBPARTITION sp319 VALUES LESS THAN (319),
	SUBPARTITION sp320 VALUES LESS THAN (320),
	SUBPARTITION sp321 VALUES LESS THAN (321),
	SUBPARTITION sp322 VALUES LESS THAN (322),
	SUBPARTITION sp323 VALUES LESS THAN (323),
	SUBPARTITION sp324 VALUES LESS THAN (324),
	SUBPARTITION sp325 VALUES LESS THAN (325),
	SUBPARTITION sp326 VALUES LESS THAN (326),
	SUBPARTITION sp327 VALUES LESS THAN (327),
	SUBPARTITION sp328 VALUES LESS THAN (328),
	SUBPARTITION sp329 VALUES LESS THAN (329),
	SUBPARTITION sp330 VALUES LESS THAN (330),
	SUBPARTITION sp331 VALUES LESS THAN (331),
	SUBPARTITION sp332 VALUES LESS THAN (332),
	SUBPARTITION sp333 VALUES LESS THAN (333),
	SUBPARTITION sp334 VALUES LESS THAN (334),
	SUBPARTITION sp335 VALUES LESS THAN (335),
	SUBPARTITION sp336 VALUES LESS THAN (336),
	SUBPARTITION sp337 VALUES LESS THAN (337),
	SUBPARTITION sp338 VALUES LESS THAN (338),
	SUBPARTITION sp339 VALUES LESS THAN (339),
	SUBPARTITION sp340 VALUES LESS THAN (340),
	SUBPARTITION sp341 VALUES LESS THAN (341),
	SUBPARTITION sp342 VALUES LESS THAN (342),
	SUBPARTITION sp343 VALUES LESS THAN (343),
	SUBPARTITION sp344 VALUES LESS THAN (344),
	SUBPARTITION sp345 VALUES LESS THAN (345),
	SUBPARTITION sp346 VALUES LESS THAN (346),
	SUBPARTITION sp347 VALUES LESS THAN (347),
	SUBPARTITION sp348 VALUES LESS THAN (348),
	SUBPARTITION sp349 VALUES LESS THAN (349),
	SUBPARTITION sp350 VALUES LESS THAN (350),
	SUBPARTITION sp351 VALUES LESS THAN (351),
	SUBPARTITION sp352 VALUES LESS THAN (352),
	SUBPARTITION sp353 VALUES LESS THAN (353),
	SUBPARTITION sp354 VALUES LESS THAN (354),
	SUBPARTITION sp355 VALUES LESS THAN (355),
	SUBPARTITION sp356 VALUES LESS THAN (356),
	SUBPARTITION sp357 VALUES LESS THAN (357),
	SUBPARTITION sp358 VALUES LESS THAN (358),
	SUBPARTITION sp359 VALUES LESS THAN (359),
	SUBPARTITION sp360 VALUES LESS THAN (360),
	SUBPARTITION sp361 VALUES LESS THAN (361),
	SUBPARTITION sp362 VALUES LESS THAN (362),
	SUBPARTITION sp363 VALUES LESS THAN (363),
	SUBPARTITION sp364 VALUES LESS THAN (364),
	SUBPARTITION sp365 VALUES LESS THAN (365),
	SUBPARTITION sp366 VALUES LESS THAN (366),
	SUBPARTITION spd VALUES LESS THAN MAXVALUE
),null
## test range hash
convert create table `tb5` (
`col0` int(11) not null auto_increment,
`col1` varchar(20) default NULL,
`col2` varchar(20),
`col3` varchar(20),
`col4` varchar(20),
`col5` varchar(20),
`col6` varchar(20)，
`col7` varchar(20),
`col8` varchar(20),
`col9` varchar(20),
primary key(`col0`),
unique clustered index `tb5_k1`(`col1`, `col2`, `col3`) dbpartition by range_hash(`col1`, `col2`, 10) tbpartition by range_hash(`col2`, `col3`, 10) tbpartitions 4,
clustered index `tb5_k2` (`col2`, `col3`, `col4`) dbpartition by hash(`col2`) tbpartition by range_hash(`col3`, `col4`, 10) tbpartitions 4,
unique global index `tb5_k3` (`col5`, `col6`, `col7`) dbpartition by range_hash(`col5`, `col6`, 10) tbpartition by hash(`col7`) tbpartitions 2,
global index `tb5_k4` (`col8`, `col9`) dbpartition by range_hash(`col8`, `col9`, 8) tbpartition by range_hash(`col9`, `col8`, 10) tbpartitions 3
) dbpartition by range_hash(`col1`, `col2`, 5) tbpartition by range_hash(`col2`, `col3`, 10) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb5` (
	`col0` int(11) NOT NULL AUTO_INCREMENT,
	`col1` varchar(20) DEFAULT NULL,
	`col2` varchar(20),
	`col3` varchar(20),
	`col4` varchar(20),
	`col5` varchar(20),
	`col6` varchar(20),
	`col7` varchar(20),
	`col8` varchar(20),
	`col9` varchar(20),
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb5_k1` (`col1`, `col2`, `col3`) PARTITION BY CO_HASH (RIGHT(`col1`, 10), RIGHT(`col2`, 10)) PARTITIONS 16
	SUBPARTITION BY CO_HASH (RIGHT(`col2`, 10), RIGHT(`col3`, 10)) SUBPARTITIONS 4,
	CLUSTERED INDEX `tb5_k2`(`col2`, `col3`, `col4`) PARTITION BY KEY (`col2`) PARTITIONS 16
	SUBPARTITION BY CO_HASH (RIGHT(`col3`, 10), RIGHT(`col4`, 10)) SUBPARTITIONS 4,
	UNIQUE GLOBAL INDEX `tb5_k3` (`col5`, `col6`, `col7`) PARTITION BY CO_HASH (RIGHT(`col5`, 10), RIGHT(`col6`, 10)) PARTITIONS 16
	SUBPARTITION BY KEY (`col7`) SUBPARTITIONS 2,
	GLOBAL INDEX `tb5_k4`(`col8`, `col9`) PARTITION BY CO_HASH (RIGHT(`col8`, 8), RIGHT(`col9`, 8)) PARTITIONS 48
)
PARTITION BY CO_HASH (RIGHT(`col1`, 5), RIGHT(`col2`, 5)) PARTITIONS 16
SUBPARTITION BY CO_HASH (RIGHT(`col2`, 10), RIGHT(`col3`, 10)) SUBPARTITIONS 4,null
## test right shift
convert create table `tb6` (
`col0` int(11) not null auto_increment,
`col1` int(11) default NULL,
`col2` varchar(20),
`col3` varchar(20),
`col4` varchar(20),
`col5` varchar(20),
`col6` varchar(20)，
`col7` varchar(20),
`col8` varchar(20),
`col9` varchar(20),
primary key(`col0`),
unique clustered index `tb6_k1`(`col1`, `col2`) dbpartition by right_shift(`col1`,4)  tbpartition by right_shift(`col2`, 4) tbpartitions 4,
clustered index `tb6_k2` (`col2`, `col3`) dbpartition by right_shift(`col2`, 5) tbpartition by hash(`col3`) tbpartitions 4,
unique global index `tb6_k3` (`col5`, `col6`) dbpartition by hash(`col5`) tbpartition by right_shift(`col6`, 5) tbpartitions 2,
global index `tb6_k4` (`col8`, `col9`) dbpartition by right_shift(`col8`, 5) tbpartition by hash(`col9`) tbpartitions 3
) dbpartition by right_shift(`col1`, 5) tbpartition by right_shift(`col2`, 5) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb6` (
	`col0` int(11) NOT NULL AUTO_INCREMENT,
	`col1` int(11) DEFAULT NULL,
	`col2` varchar(20),
	`col3` varchar(20),
	`col4` varchar(20),
	`col5` varchar(20),
	`col6` varchar(20),
	`col7` varchar(20),
	`col8` varchar(20),
	`col9` varchar(20),
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb6_k1` (`col1`, `col2`) PARTITION BY KEY (`col1`) PARTITIONS 16
	SUBPARTITION BY KEY (`col2`) SUBPARTITIONS 4,
	CLUSTERED INDEX `tb6_k2`(`col2`, `col3`) PARTITION BY KEY (`col2`) PARTITIONS 16
	SUBPARTITION BY KEY (`col3`) SUBPARTITIONS 4,
	UNIQUE GLOBAL INDEX `tb6_k3` (`col5`, `col6`) PARTITION BY KEY (`col5`) PARTITIONS 16
	SUBPARTITION BY KEY (`col6`) SUBPARTITIONS 2,
	GLOBAL INDEX `tb6_k4`(`col8`, `col9`) PARTITION BY KEY (`col8`) PARTITIONS 16
	SUBPARTITION BY KEY (`col9`) SUBPARTITIONS 3
)
PARTITION BY KEY (`col1`, `col0`) PARTITIONS 16
SUBPARTITION BY KEY (`col2`) SUBPARTITIONS 4,null
## test str hash
convert create table `tb7` (
`col0` int(11) not null auto_increment,
`col1` varchar(20) default NULL,
`col2` varchar(20),
`col3` varchar(20),
`col4` varchar(20),
`col5` varchar(20),
`col6` varchar(20)，
`col7` varchar(20),
`col8` varchar(20),
`col9` varchar(20),
primary key(`col0`),
unique clustered index `tb7_k1`(`col1`, `col2`) dbpartition by str_hash(`col1`, -1, 5) tbpartition by str_hash(`col2`, -1, 10) tbpartitions 4,
clustered index `tb7_k2` (`col2`, `col3`) dbpartition by hash(`col2`) tbpartition by str_hash(`col3`, -1, 10) tbpartitions 4,
unique global index `tb7_k3` (`col5`, `col6`, `col7`) dbpartition by str_hash(`col5`, -1, 10) tbpartition by hash(`col7`) tbpartitions 2,
global index `tb7_k4` (`col8`, `col9`) dbpartition by str_hash(`col9`, -1, 8) tbpartition by str_hash(`col8`, 10, -1) tbpartitions 3
) dbpartition by str_hash(`col1`, -1, 5) tbpartition by str_hash(`col2`, -1, 10) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb7` (
	`col0` int(11) NOT NULL AUTO_INCREMENT,
	`col1` varchar(20) DEFAULT NULL,
	`col2` varchar(20),
	`col3` varchar(20),
	`col4` varchar(20),
	`col5` varchar(20),
	`col6` varchar(20),
	`col7` varchar(20),
	`col8` varchar(20),
	`col9` varchar(20),
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb7_k1` (`col1`, `col2`) PARTITION BY KEY (`col1`) PARTITIONS 16
	SUBPARTITION BY KEY (`col2`) SUBPARTITIONS 4,
	CLUSTERED INDEX `tb7_k2`(`col2`, `col3`) PARTITION BY KEY (`col2`) PARTITIONS 16
	SUBPARTITION BY KEY (`col3`) SUBPARTITIONS 4,
	UNIQUE GLOBAL INDEX `tb7_k3` (`col5`, `col6`, `col7`) PARTITION BY KEY (`col5`) PARTITIONS 16
	SUBPARTITION BY KEY (`col7`) SUBPARTITIONS 2,
	GLOBAL INDEX `tb7_k4`(`col8`, `col9`) PARTITION BY KEY (`col9`) PARTITIONS 16
	SUBPARTITION BY KEY (`col8`) SUBPARTITIONS 3
)
PARTITION BY KEY (`col1`) PARTITIONS 16
SUBPARTITION BY KEY (`col2`) SUBPARTITIONS 4,null
## test uni hash
convert create table `tb8` (
`col0` int(11) not null auto_increment,
`col1` int(11) default NULL,
`col2` varchar(20),
`col3` varchar(20),
`col4` varchar(20),
`col5` varchar(20),
`col6` varchar(20)，
`col7` varchar(20),
`col8` varchar(20),
`col9` varchar(20),
primary key(`col0`),
unique clustered index `tb8_k1`(`col1`, `col2`) dbpartition by uni_hash(`col1`)  tbpartition by uni_hash(`col2`) tbpartitions 4,
clustered index `tb8_k2` (`col2`, `col3`) dbpartition by hash(`col2`) tbpartition by uni_hash(`col3`) tbpartitions 4,
unique global index `tb8_k3` (`col5`, `col6`) dbpartition by uni_hash(`col5`) tbpartition by hash(`col6`) tbpartitions 2,
global index `tb8_k4` (`col8`, `col9`) dbpartition by uni_hash(`col8`) tbpartition by uni_hash(`col9`) tbpartitions 3
) dbpartition by uni_hash(`col1`) tbpartition by uni_hash(`col2`) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb8` (
	`col0` int(11) NOT NULL AUTO_INCREMENT,
	`col1` int(11) DEFAULT NULL,
	`col2` varchar(20),
	`col3` varchar(20),
	`col4` varchar(20),
	`col5` varchar(20),
	`col6` varchar(20),
	`col7` varchar(20),
	`col8` varchar(20),
	`col9` varchar(20),
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb8_k1` (`col1`, `col2`) PARTITION BY KEY (`col1`) PARTITIONS 16
	SUBPARTITION BY KEY (`col2`) SUBPARTITIONS 4,
	CLUSTERED INDEX `tb8_k2`(`col2`, `col3`) PARTITION BY KEY (`col2`) PARTITIONS 16
	SUBPARTITION BY KEY (`col3`) SUBPARTITIONS 4,
	UNIQUE GLOBAL INDEX `tb8_k3` (`col5`, `col6`) PARTITION BY KEY (`col5`) PARTITIONS 16
	SUBPARTITION BY KEY (`col6`) SUBPARTITIONS 2,
	GLOBAL INDEX `tb8_k4`(`col8`, `col9`) PARTITION BY KEY (`col8`) PARTITIONS 16
	SUBPARTITION BY KEY (`col9`) SUBPARTITIONS 3
)
PARTITION BY KEY (`col1`, `col0`) PARTITIONS 16
SUBPARTITION BY KEY (`col2`) SUBPARTITIONS 4,null
## test week
convert create table `tb9` (
`col0` date,
`col1` date default NULL,
`col2` date,
`col3` date,
`col4` datetime,
`col5` datetime,
`col6` datetime，
`col7` datetime,
`col8` datetime,
primary key(`col0`),
unique clustered index `tb9_k1`(`col1`, `col3`) dbpartition by yyyydd(`col1`) tbpartition by week(`col3`) tbpartitions 4,
clustered index `tb9_k2` (`col4`, `col3`) dbpartition by hash(`col4`) tbpartition by week(`col3`) tbpartitions 4,
unique global index `tb9_k3` (`col6`, `col5`) dbpartition by yyyydd(`col5`) tbpartition by week(`col6`) tbpartitions 4,
global index  `tb9_k4` (`col6`, `col7`) covering (`col8`) dbpartition by yyyydd(`col6`) tbpartition by week(`col7`) tbpartitions 4
) dbpartition by yyyymm(`col1`) tbpartition by week(`col2`) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb9` (
	`col0` date,
	`col1` date DEFAULT NULL,
	`col2` date,
	`col3` date,
	`col4` datetime,
	`col5` datetime,
	`col6` datetime,
	`col7` datetime,
	`col8` datetime,
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb9_k1` (`col1`, `col3`) PARTITION BY HASH (TO_DAYS(`col1`)) PARTITIONS 16
	SUBPARTITION BY RANGE (DAYOFWEEK(`col3`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	),
	CLUSTERED INDEX `tb9_k2`(`col4`, `col3`) PARTITION BY KEY (`col4`) PARTITIONS 16
	SUBPARTITION BY RANGE (DAYOFWEEK(`col3`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	),
	UNIQUE GLOBAL INDEX `tb9_k3` (`col6`, `col5`) PARTITION BY HASH (TO_DAYS(`col5`)) PARTITIONS 16
	SUBPARTITION BY RANGE (DAYOFWEEK(`col6`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	),
	GLOBAL INDEX `tb9_k4`(`col6`, `col7`) COVERING (`col8`) PARTITION BY HASH (TO_DAYS(`col6`)) PARTITIONS 16
	SUBPARTITION BY RANGE (DAYOFWEEK(`col7`)) (
		SUBPARTITION sp2 VALUES LESS THAN (2),
		SUBPARTITION sp3 VALUES LESS THAN (3),
		SUBPARTITION sp4 VALUES LESS THAN (4),
		SUBPARTITION sp5 VALUES LESS THAN (5),
		SUBPARTITION sp6 VALUES LESS THAN (6),
		SUBPARTITION sp7 VALUES LESS THAN (7),
		SUBPARTITION spd VALUES LESS THAN MAXVALUE
	)
)
PARTITION BY HASH (TO_MONTHS(`col1`)) PARTITIONS 16
SUBPARTITION BY RANGE (DAYOFWEEK(`col2`)) (
	SUBPARTITION sp2 VALUES LESS THAN (2),
	SUBPARTITION sp3 VALUES LESS THAN (3),
	SUBPARTITION sp4 VALUES LESS THAN (4),
	SUBPARTITION sp5 VALUES LESS THAN (5),
	SUBPARTITION sp6 VALUES LESS THAN (6),
	SUBPARTITION sp7 VALUES LESS THAN (7),
	SUBPARTITION spd VALUES LESS THAN MAXVALUE
),null
## test yyyydd
convert create table `tb10` (
`col0` date,
`col1` date default NULL,
`col2` date,
`col3` date,
`col4` datetime,
`col5` datetime,
`col6` datetime，
`col7` datetime,
`col8` datetime,
primary key(`col0`),
unique clustered index `tb10_k1`(`col1`, `col3`) dbpartition by yyyydd(`col1`) tbpartition by yyyydd(`col3`) tbpartitions 4,
clustered index `tb10_k2` (`col4`, `col3`) dbpartition by hash(`col4`) tbpartition by yyyydd(`col3`) tbpartitions 4,
unique global index `tb10_k3` (`col6`, `col5`) dbpartition by yyyydd(`col5`) tbpartition by hash(`col6`) tbpartitions 4,
global index  `tb10_k4` (`col6`, `col7`) dbpartition by yyyydd(`col6`) tbpartition by yyyydd(`col7`) tbpartitions 4
) dbpartition by yyyydd(`col1`) tbpartition by yyyydd(`col2`) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb10` (
	`col0` date,
	`col1` date DEFAULT NULL,
	`col2` date,
	`col3` date,
	`col4` datetime,
	`col5` datetime,
	`col6` datetime,
	`col7` datetime,
	`col8` datetime,
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb10_k1` (`col1`, `col3`) PARTITION BY HASH (TO_DAYS(`col1`)) PARTITIONS 16
	SUBPARTITION BY HASH (TO_DAYS(`col3`)) SUBPARTITIONS 4,
	CLUSTERED INDEX `tb10_k2`(`col4`, `col3`) PARTITION BY KEY (`col4`) PARTITIONS 16
	SUBPARTITION BY HASH (TO_DAYS(`col3`)) SUBPARTITIONS 4,
	UNIQUE GLOBAL INDEX `tb10_k3` (`col6`, `col5`) PARTITION BY HASH (TO_DAYS(`col5`)) PARTITIONS 16
	SUBPARTITION BY KEY (`col6`) SUBPARTITIONS 4,
	GLOBAL INDEX `tb10_k4`(`col6`, `col7`) PARTITION BY HASH (TO_DAYS(`col6`)) PARTITIONS 16
	SUBPARTITION BY HASH (TO_DAYS(`col7`)) SUBPARTITIONS 4
)
PARTITION BY HASH (TO_DAYS(`col1`)) PARTITIONS 16
SUBPARTITION BY HASH (TO_DAYS(`col2`)) SUBPARTITIONS 4,null
## test yyyymm
convert create table `tb11` (
`col0` date,
`col1` date default NULL,
`col2` date,
`col3` date,
`col4` datetime,
`col5` datetime,
`col6` datetime，
`col7` datetime,
`col8` datetime,
primary key(`col0`),
unique clustered index `tb11_k1`(`col1`, `col3`) dbpartition by yyyymm(`col1`) tbpartition by yyyymm(`col3`) tbpartitions 4,
clustered index `tb11_k2` (`col4`, `col3`) dbpartition by hash(`col4`) tbpartition by yyyymm(`col3`) tbpartitions 4,
unique global index `tb11_k3` (`col6`, `col5`) dbpartition by yyyymm(`col5`) tbpartition by hash(`col6`) tbpartitions 4,
global index  `tb11_k4` (`col6`, `col7`) covering (`col8`) dbpartition by yyyymm(`col6`) tbpartition by yyyymm(`col7`) tbpartitions 4
) dbpartition by yyyymm(`col1`) tbpartition by yyyymm(`col2`) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb11` (
	`col0` date,
	`col1` date DEFAULT NULL,
	`col2` date,
	`col3` date,
	`col4` datetime,
	`col5` datetime,
	`col6` datetime,
	`col7` datetime,
	`col8` datetime,
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb11_k1` (`col1`, `col3`) PARTITION BY HASH (TO_MONTHS(`col1`)) PARTITIONS 16
	SUBPARTITION BY HASH (TO_MONTHS(`col3`)) SUBPARTITIONS 4,
	CLUSTERED INDEX `tb11_k2`(`col4`, `col3`) PARTITION BY KEY (`col4`) PARTITIONS 16
	SUBPARTITION BY HASH (TO_MONTHS(`col3`)) SUBPARTITIONS 4,
	UNIQUE GLOBAL INDEX `tb11_k3` (`col6`, `col5`) PARTITION BY HASH (TO_MONTHS(`col5`)) PARTITIONS 16
	SUBPARTITION BY KEY (`col6`) SUBPARTITIONS 4,
	GLOBAL INDEX `tb11_k4`(`col6`, `col7`) COVERING (`col8`) PARTITION BY HASH (TO_MONTHS(`col6`)) PARTITIONS 16
	SUBPARTITION BY HASH (TO_MONTHS(`col7`)) SUBPARTITIONS 4
)
PARTITION BY HASH (TO_MONTHS(`col1`)) PARTITIONS 16
SUBPARTITION BY HASH (TO_MONTHS(`col2`)) SUBPARTITIONS 4,null
## test yyyyweek
convert create table `tb12` (
`col0` date,
`col1` date default NULL,
`col2` date,
`col3` date,
`col4` datetime,
`col5` datetime,
`col6` datetime，
`col7` datetime,
`col8` datetime,
primary key(`col0`),
unique clustered index `tb12_k1`(`col1`, `col3`) dbpartition by yyyyweek(`col1`) tbpartition by yyyyweek(`col3`) tbpartitions 4,
clustered index `tb12_k2` (`col4`, `col3`) dbpartition by hash(`col4`) tbpartition by yyyyweek(`col3`) tbpartitions 4,
unique global index `tb12_k3` (`col6`, `col5`) dbpartition by yyyyweek(`col5`) tbpartition by hash(`col6`) tbpartitions 4,
global index  `tb12_k4` (`col6`, `col7`) covering (`col8`) dbpartition by yyyyweek(`col6`) tbpartition by yyyyweek(`col7`) tbpartitions 4
) dbpartition by yyyyweek(`col1`) tbpartition by yyyyweek(`col2`) tbpartitions 4;
SUCCESS,RESULT,ERROR_MSG
True,CREATE TABLE IF NOT EXISTS `tb12` (
	`col0` date,
	`col1` date DEFAULT NULL,
	`col2` date,
	`col3` date,
	`col4` datetime,
	`col5` datetime,
	`col6` datetime,
	`col7` datetime,
	`col8` datetime,
	PRIMARY KEY (`col0`),
	UNIQUE CLUSTERED INDEX `tb12_k1` (`col1`, `col3`) PARTITION BY HASH (TO_WEEKS(`col1`)) PARTITIONS 16
	SUBPARTITION BY HASH (TO_WEEKS(`col3`)) SUBPARTITIONS 4,
	CLUSTERED INDEX `tb12_k2`(`col4`, `col3`) PARTITION BY KEY (`col4`) PARTITIONS 16
	SUBPARTITION BY HASH (TO_WEEKS(`col3`)) SUBPARTITIONS 4,
	UNIQUE GLOBAL INDEX `tb12_k3` (`col6`, `col5`) PARTITION BY HASH (TO_WEEKS(`col5`)) PARTITIONS 16
	SUBPARTITION BY KEY (`col6`) SUBPARTITIONS 4,
	GLOBAL INDEX `tb12_k4`(`col6`, `col7`) COVERING (`col8`) PARTITION BY HASH (TO_WEEKS(`col6`)) PARTITIONS 16
	SUBPARTITION BY HASH (TO_WEEKS(`col7`)) SUBPARTITIONS 4
)
PARTITION BY HASH (TO_WEEKS(`col1`)) PARTITIONS 16
SUBPARTITION BY HASH (TO_WEEKS(`col2`)) SUBPARTITIONS 4,null