## DISABLE_FAST_SQL_PARSER
CREATE TABLE `t1` (
`a` varchar(8) DEFAULT NULL,
`b` varchar(16) DEFAULT NULL,
`c` varchar(32) DEFAULT NULL,
`d` int(11) DEFAULT NULL
) ENGINE = InnoDB DEFAULT
PARTITION BY KEY(`a`) PARTITIONS 4 (
PARTITION p1 VALUES LESS THAN (1000),
PARTITION p2 VALUES LESS THAN (2000),
PARTITION p3 VALUES LESS THAN (3000),
PARTITION p4 VALUES LESS THAN (9223372036854775807)
);
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t1;
Table,Create Table
t1,CREATE TABLE `t1` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a` USING BTREE (`a`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`)
PARTITIONS 4
(PARTITION p1 VALUES LESS THAN (1000) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
CREATE TABLE `t2` (
  `a` varchar(8) DEFAULT NULL,
  `b` varchar(16) DEFAULT NULL,
  `c` varchar(32) DEFAULT NULL,
  `d` int(11) DEFAULT NULL
) ENGINE = InnoDB DEFAULT
PARTITION BY KEY(`a`,`b`) PARTITIONS 4 (
PARTITION p1 VALUES LESS THAN (1000,9223372036854775807),
PARTITION p2 VALUES LESS THAN (2000,9223372036854775807),
PARTITION p3 VALUES LESS THAN (3000,9223372036854775807),
PARTITION p4 VALUES LESS THAN (9223372036854775807,9223372036854775807)
);
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t2;
Table,Create Table
t2,CREATE TABLE `t2` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`)
PARTITIONS 4
(PARTITION p1 VALUES LESS THAN (1000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
CREATE TABLE `t3` (
  `a` varchar(8) DEFAULT NULL,
  `b` varchar(16) DEFAULT NULL,
  `c` varchar(32) DEFAULT NULL,
  `d` int(11) DEFAULT NULL
) ENGINE = InnoDB DEFAULT
PARTITION BY KEY(`a`,`b`,`c`) PARTITIONS 4 (
PARTITION p1 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807),
PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807),
PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807),
PARTITION p4 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807)
);
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t3;
Table,Create Table
t3,CREATE TABLE `t3` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c` USING BTREE (`a`, `b`, `c`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`)
PARTITIONS 4
(PARTITION p1 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
CREATE TABLE `t4` (
  `a` varchar(8) DEFAULT NULL,
  `b` varchar(16) DEFAULT NULL,
  `c` varchar(32) DEFAULT NULL,
  `d` int(11) DEFAULT NULL
) ENGINE = InnoDB DEFAULT
PARTITION BY KEY(`a`,`b`,`c`,`d`) PARTITIONS 4 (
  PARTITION p1 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807,9223372036854775807),
  PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807,9223372036854775807),
  PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807,9223372036854775807),
  PARTITION p4 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807,9223372036854775807)
);
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t4;
Table,Create Table
t4,CREATE TABLE `t4` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c_d` USING BTREE (`a`, `b`, `c`, `d`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`,`d`)
PARTITIONS 4
(PARTITION p1 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
## error_msg: $# the column count of hot key should less than partition columns #$
alter table t1 split into partitions 2 by hot value('a', 'a', 'a', 1000);
the column count of hot key should less than partition columns
alter table t2 split into pa partitions 1 by hot value('a');
alter table t3 split into pa partitions 1 by hot value('a');
alter table t4 split into pa partitions 1 by hot value('a');
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t2;
Table,Create Table
t2,CREATE TABLE `t2` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`)
PARTITIONS 6
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t3;
Table,Create Table
t3,CREATE TABLE `t3` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c` USING BTREE (`a`, `b`, `c`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`)
PARTITIONS 6
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t4;
Table,Create Table
t4,CREATE TABLE `t4` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c_d` USING BTREE (`a`, `b`, `c`, `d`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`,`d`)
PARTITIONS 6
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
select * from t2;
a,b,c,d
select * from t3;
a,b,c,d
select * from t4;
a,b,c,d
alter table t2 split into pb partitions 2 by hot value('b');
alter table t3 split into pb partitions 2 by hot value('b');
alter table t4 split into pb partitions 2 by hot value('b');
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t2;
Table,Create Table
t2,CREATE TABLE `t2` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`)
PARTITIONS 9
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (5644686251539320609,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807) ENGINE = InnoDB,
 PARTITION p7 VALUES LESS THAN (9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t3;
Table,Create Table
t3,CREATE TABLE `t3` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c` USING BTREE (`a`, `b`, `c`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`)
PARTITIONS 9
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (5644686251539320609,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p7 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t4;
Table,Create Table
t4,CREATE TABLE `t4` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c_d` USING BTREE (`a`, `b`, `c`, `d`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`,`d`)
PARTITIONS 9
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (5644686251539320609,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p7 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
select * from t2;
a,b,c,d
select * from t3;
a,b,c,d
select * from t4;
a,b,c,d
alter table t2 split into pcc partitions 1 by hot value('c','c');
alter table t3 split into pcc partitions 1 by hot value('c','c');
alter table t4 split into pcc partitions 1 by hot value('c','c');
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t2;
Table,Create Table
t2,CREATE TABLE `t2` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`)
PARTITIONS 11
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (-455356769829958672,-455356769829958673) ENGINE = InnoDB,
 PARTITION pcc1 VALUES LESS THAN (-455356769829958672,-455356769829958671) ENGINE = InnoDB,
 PARTITION p8 VALUES LESS THAN (1000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (5644686251539320609,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807) ENGINE = InnoDB,
 PARTITION p7 VALUES LESS THAN (9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t3;
Table,Create Table
t3,CREATE TABLE `t3` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c` USING BTREE (`a`, `b`, `c`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`)
PARTITIONS 11
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (-455356769829958672,-455356769829958673,9223372036854775807) ENGINE = InnoDB,
 PARTITION pcc1 VALUES LESS THAN (-455356769829958672,-455356769829958671,9223372036854775807) ENGINE = InnoDB,
 PARTITION p8 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (5644686251539320609,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p7 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t4;
Table,Create Table
t4,CREATE TABLE `t4` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c_d` USING BTREE (`a`, `b`, `c`, `d`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`,`d`)
PARTITIONS 11
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (-455356769829958672,-455356769829958673,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pcc1 VALUES LESS THAN (-455356769829958672,-455356769829958671,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p8 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (5644686251539320609,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p7 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
select * from t2;
a,b,c,d
select * from t3;
a,b,c,d
select * from t4;
a,b,c,d
alter table t3 split into pdd partitions 2 by hot value('d','d');
alter table t4 split into pdd partitions 2 by hot value('d','d');
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t3;
Table,Create Table
t3,CREATE TABLE `t3` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c` USING BTREE (`a`, `b`, `c`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`)
PARTITIONS 14
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (-455356769829958672,-455356769829958673,9223372036854775807) ENGINE = InnoDB,
 PARTITION pcc1 VALUES LESS THAN (-455356769829958672,-455356769829958671,9223372036854775807) ENGINE = InnoDB,
 PARTITION p8 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1101822470030053312,1101822470030053311,9223372036854775807) ENGINE = InnoDB,
 PARTITION pdd1 VALUES LESS THAN (1101822470030053312,1101822470030053312,-2) ENGINE = InnoDB,
 PARTITION pdd2 VALUES LESS THAN (1101822470030053312,1101822470030053313,9223372036854775807) ENGINE = InnoDB,
 PARTITION p9 VALUES LESS THAN (5644686251539320609,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p7 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t4;
Table,Create Table
t4,CREATE TABLE `t4` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c_d` USING BTREE (`a`, `b`, `c`, `d`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`,`d`)
PARTITIONS 14
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (-455356769829958672,-455356769829958673,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pcc1 VALUES LESS THAN (-455356769829958672,-455356769829958671,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p8 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1101822470030053312,1101822470030053311,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pdd1 VALUES LESS THAN (1101822470030053312,1101822470030053312,-2,9223372036854775807) ENGINE = InnoDB,
 PARTITION pdd2 VALUES LESS THAN (1101822470030053312,1101822470030053313,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p9 VALUES LESS THAN (5644686251539320609,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p7 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
select * from t3;
a,b,c,d
select * from t4;
a,b,c,d
alter table t3 split into pee partitions 1 by hot value('e','e','e');
alter table t4 split into pee partitions 1 by hot value('e','e','e');
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t3;
Table,Create Table
t3,CREATE TABLE `t3` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c` USING BTREE (`a`, `b`, `c`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`)
PARTITIONS 16
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (-455356769829958672,-455356769829958673,9223372036854775807) ENGINE = InnoDB,
 PARTITION pcc1 VALUES LESS THAN (-455356769829958672,-455356769829958671,9223372036854775807) ENGINE = InnoDB,
 PARTITION p8 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1101822470030053312,1101822470030053311,9223372036854775807) ENGINE = InnoDB,
 PARTITION pdd1 VALUES LESS THAN (1101822470030053312,1101822470030053312,-2) ENGINE = InnoDB,
 PARTITION pdd2 VALUES LESS THAN (1101822470030053312,1101822470030053313,9223372036854775807) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (3314793513200793589,3314793513200793589,3314793513200793588) ENGINE = InnoDB,
 PARTITION pee1 VALUES LESS THAN (3314793513200793589,3314793513200793589,3314793513200793590) ENGINE = InnoDB,
 PARTITION p10 VALUES LESS THAN (5644686251539320609,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p7 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t4;
Table,Create Table
t4,CREATE TABLE `t4` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c_d` USING BTREE (`a`, `b`, `c`, `d`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`,`d`)
PARTITIONS 16
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (-455356769829958672,-455356769829958673,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pcc1 VALUES LESS THAN (-455356769829958672,-455356769829958671,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p8 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1101822470030053312,1101822470030053311,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pdd1 VALUES LESS THAN (1101822470030053312,1101822470030053312,-2,9223372036854775807) ENGINE = InnoDB,
 PARTITION pdd2 VALUES LESS THAN (1101822470030053312,1101822470030053313,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (3314793513200793589,3314793513200793589,3314793513200793588,9223372036854775807) ENGINE = InnoDB,
 PARTITION pee1 VALUES LESS THAN (3314793513200793589,3314793513200793589,3314793513200793590,9223372036854775807) ENGINE = InnoDB,
 PARTITION p10 VALUES LESS THAN (5644686251539320609,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p7 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
select * from t3;
a,b,c,d
select * from t4;
a,b,c,d
alter table t4 split into pff partitions 2 by hot value('f','f','f');
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t4;
Table,Create Table
t4,CREATE TABLE `t4` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c_d` USING BTREE (`a`, `b`, `c`, `d`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`,`d`)
PARTITIONS 19
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (-455356769829958672,-455356769829958673,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pcc1 VALUES LESS THAN (-455356769829958672,-455356769829958671,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p8 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1101822470030053312,1101822470030053311,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pdd1 VALUES LESS THAN (1101822470030053312,1101822470030053312,-2,9223372036854775807) ENGINE = InnoDB,
 PARTITION pdd2 VALUES LESS THAN (1101822470030053312,1101822470030053313,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (3314793513200793589,3314793513200793589,3314793513200793588,9223372036854775807) ENGINE = InnoDB,
 PARTITION pee1 VALUES LESS THAN (3314793513200793589,3314793513200793589,3314793513200793590,9223372036854775807) ENGINE = InnoDB,
 PARTITION p10 VALUES LESS THAN (5644686251539320609,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p9 VALUES LESS THAN (7323468808148333205,7323468808148333205,7323468808148333204,9223372036854775807) ENGINE = InnoDB,
 PARTITION pff1 VALUES LESS THAN (7323468808148333205,7323468808148333205,7323468808148333205,-2) ENGINE = InnoDB,
 PARTITION pff2 VALUES LESS THAN (7323468808148333205,7323468808148333205,7323468808148333206,9223372036854775807) ENGINE = InnoDB,
 PARTITION p11 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
select * from t4;
a,b,c,d
alter table t4 split into pgg partitions 1 by hot value('g','g','g',100);
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t4;
Table,Create Table
t4,CREATE TABLE `t4` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b_c_d` USING BTREE (`a`, `b`, `c`, `d`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8
PARTITION BY KEY(`a`,`b`,`c`,`d`)
PARTITIONS 21
(PARTITION p5 VALUES LESS THAN (-6301204508261176707,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pa1 VALUES LESS THAN (-6301204508261176705,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p26 VALUES LESS THAN (-1592660249439990260,-1592660249439990260,-1592660249439990260,-2682556572937990697) ENGINE = InnoDB,
 PARTITION pgg1 VALUES LESS THAN (-1592660249439990260,-1592660249439990260,-1592660249439990260,-2682556572937990695) ENGINE = InnoDB,
 PARTITION p27 VALUES LESS THAN (-455356769829958672,-455356769829958673,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pcc1 VALUES LESS THAN (-455356769829958672,-455356769829958671,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p8 VALUES LESS THAN (1000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (2000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (3000,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (1101822470030053312,1101822470030053311,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pdd1 VALUES LESS THAN (1101822470030053312,1101822470030053312,-2,9223372036854775807) ENGINE = InnoDB,
 PARTITION pdd2 VALUES LESS THAN (1101822470030053312,1101822470030053313,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (3314793513200793589,3314793513200793589,3314793513200793588,9223372036854775807) ENGINE = InnoDB,
 PARTITION pee1 VALUES LESS THAN (3314793513200793589,3314793513200793589,3314793513200793590,9223372036854775807) ENGINE = InnoDB,
 PARTITION p10 VALUES LESS THAN (5644686251539320609,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb1 VALUES LESS THAN (5644686251539320610,-2,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION pb2 VALUES LESS THAN (5644686251539320611,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB,
 PARTITION p9 VALUES LESS THAN (7323468808148333205,7323468808148333205,7323468808148333204,9223372036854775807) ENGINE = InnoDB,
 PARTITION pff1 VALUES LESS THAN (7323468808148333205,7323468808148333205,7323468808148333205,-2) ENGINE = InnoDB,
 PARTITION pff2 VALUES LESS THAN (7323468808148333205,7323468808148333205,7323468808148333206,9223372036854775807) ENGINE = InnoDB,
 PARTITION p11 VALUES LESS THAN (9223372036854775807,9223372036854775807,9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
select * from t4;
a,b,c,d